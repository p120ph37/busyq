--- jq-1.8.1/Makefile.am.orig
+++ jq-1.8.1/Makefile.am
@@ -1,3 +1,10 @@
+# busyq: Rename main() to jq_main() so it can be linked as an applet
+# in the busyq binary. This is done via the CFLAGS rather than
+# patching main.c directly.
+#
+# The build system should pass: CFLAGS += -Dmain=jq_main
+# This is handled by scripts/build.sh.
+
 # Note: jq's configure.ac and Makefile.am handle the static library
 # build when --enable-static is passed. The key outputs we need:
 #
@@ -5,3 +12,5 @@
 # 2. src/main.o - the CLI entry point (renamed to jq_main via -D)
 #
 # These are linked into the busyq binary at final link time.
+
+# No source changes needed - just build flags.
